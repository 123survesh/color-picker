/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.2.3
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e){e.version="1.2.3",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r,n)},0===n?0:n||1),e}}(window.CP=function(e,t){function E(e){return"undefined"!=typeof e}function O(e){return"string"==typeof e}function d(e,t,n){return t>e?t:e>n?n:e}function p(e,t){return parseInt(e,t||10)}function R(e){return Math.round(e)}function I(e){var i,o,l,f,a,s,u,c,t=+e[0],n=+e[1],r=+e[2];switch(f=Math.floor(6*t),a=6*t-f,s=r*(1-n),u=r*(1-a*n),c=r*(1-(1-a)*n),f=f||0,u=u||0,c=c||0,f%6){case 0:i=r,o=c,l=s;break;case 1:i=u,o=r,l=s;break;case 2:i=s,o=r,l=c;break;case 3:i=s,o=u,l=r;break;case 4:i=c,o=s,l=r;break;case 5:i=r,o=s,l=u}return[R(255*i),R(255*o),R(255*l)]}function L(e){return T(I(e))}function h(e){var f,t=+e[0],n=+e[1],r=+e[2],i=Math.max(t,n,r),o=Math.min(t,n,r),l=i-o,a=0===i?0:l/i,s=i/255;switch(i){case o:f=0;break;case t:f=n-r+l*(r>n?6:0),f/=6*l;break;case n:f=r-t+2*l,f/=6*l;break;case r:f=t-n+4*l,f/=6*l}return[f,a,s]}function T(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function N(e){return h(b(e))}function b(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[p(e[0]+e[1],16),p(e[2]+e[3],16),p(e[4]+e[5],16)]}function S(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function F(e){return[R(360*+e[0]),R(100*+e[1]),R(100*+e[2])]}function g(e){return[+e[0]/255,+e[1]/255,+e[2]/255]}function C(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.addEventListener(e[r],n,!1)}function m(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.removeEventListener(e[r],n)}function G(e,t){for(var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=v(e).l,o=v(e).t;e=e.offsetParent;)i+=v(e).l,o+=v(e).t;return{x:n-i,y:r-o}}function v(e){return{l:e.offsetLeft,t:e.offsetTop}}function H(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function D(e){e&&e.preventDefault()}function y(e){return{w:e.offsetWidth,h:e.offsetHeight}}function M(e){return l||(E(e)?e:!1)}function U(e){l=e}function k(e,t,n){return E(e)?E(t)?(E(f[e])||(f[e]={}),E(n)||(n=Object.keys(f[e]).length),f[e][n]=t,i):f[e]:f}function w(e,t){return E(e)?E(t)?(delete f[e][t],i):(f[e]={},i):(f={},i)}function B(e,t,n){if(!E(f[e]))return i;if(E(n))E(f[e][n])&&f[e][n].apply(i,t);else for(var r in f[e])f[e][r].apply(i,t);return i}function ie(e,t){e&&"h"!==e||B("change:h",t),e&&"sv"!==e||B("change:sv",t),B("change",t)}function oe(e,t){return setTimeout(e,t)}function le(){return a.parentNode}function fe(){var t=y(W).w,r=n.innerHeight,o=Math.max(P.scrollLeft,W.scrollLeft),l=Math.max(P.scrollTop,W.scrollTop),f=t+o,s=r+l;return X=v(e).l,J=v(e).t+y(e).h,X+Z>f&&(X=f-Z),J+ee>s&&(J=s-ee),a.style.left=X+"px",a.style.top=J+"px",B("fit",[i]),i}function ae(o,l){function T(t){var n=t.target,r=n===e||H(n,e)===e;r?ae():re(),B(r?"enter":"exit",[i])}function N(e){var n=(I(x),I([x[0],1,1]));Y.style.backgroundColor="rgb("+n.join(",")+")",U(x),D(e)}function b(e){var t=d(G(K,e).y,0,f);x[0]=(f-t)/f,_.style.top=t-p/2+"px",N(e)}function S(e){var t=G(Y,e),n=d(t.x,0,E),r=d(t.y,0,O);x[1]=1-(E-n)/E,x[2]=(O-r)/O,V.style.right=E-n-R/2+"px",V.style.top=r-h/2+"px",N(e)}function F(e){Q&&(b(e),te=L(x),q||(B("drag:h",[te,i]),B("drag",[te,i]),ie("h",[te,i]))),j&&(S(e),te=L(x),z||(B("drag:sv",[te,i]),B("drag",[te,i]),ie("sv",[te,i]))),q=!1,z=!1}function g(n){var r=n.target,o=Q?"h":"sv",l=[L(x),i],f=r===e||H(r,e)===e,s=r===a||H(r,a)===a;f||s?s&&(B("stop:"+o,l),B("stop",l),ie(o,l)):le()&&t!==!1&&(re(),B("exit",[i]),ie(0,l)),Q=!1,j=!1}function v(e){q=!0,Q=!0,F(e),D(e),B("start:h",[te,i]),B("start",[te,i]),ie("h",[te,i])}function k(e){z=!0,j=!0,F(e),D(e),B("start:sv",[te,i]),B("start",[te,i]),ie("sv",[te,i])}o||((l||P).appendChild(a),i.visible=!0),Z=y(a).w,ee=y(a).h;var f=y(K).h,E=y(Y).w,O=y(Y).h,p=y(_).h,R=y(V).w,h=y(V).h;o?(a.style.left=a.style.top="-9999px",t!==!1&&C(t,e,T),i.create=function(){return ae(1),B("create",[i]),i},i.destroy=function(){return t!==!1&&m(t,e,T),re(),U(!1),B("destroy",[i]),i}):fe(),ne=function(){x=M(x),N(),_.style.top=f-p/2-f*+x[0]+"px",V.style.right=E-R/2-E*+x[1]+"px",V.style.top=O-h/2-O*+x[2]+"px"},re=function(e){return le()&&(le().removeChild(a),i.visible=!1),m(s,K,v),m(s,Y,k),m(u,r,F),m(c,r,g),m(A,n,fe),i},ne(),o||(C(s,K,v),C(s,Y,k),C(u,r,F),C(c,r,g),C(A,n,fe))}var n=window,r=document,i=this,o=CP.prototype,l=!1,f={},a=r.createElement("div"),s="touchstart mousedown",u="touchmove mousemove",c="touchend mouseup",A="orientationchange resize";if(!(i instanceof CP))return new CP(e,t);CP.__instance__[e.id||e.name||Object.keys(CP.__instance__).length]=i,E(t)||(t=s),o.parse=function(e){if("object"==typeof e)return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),r="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/);return r?N(e.slice(1)):n?S([+n[1],+n[2],+n[3]]):t?h([+t[1],+t[2],+t[3]]):[0,1,1]},U(i.parse(e.getAttribute("data-color")||e.value||[0,1,1])),a.className="color-picker",a.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var ne,re,P=r.body,W=r.documentElement,$=a.firstChild.children,x=M([0,1,1]),K=$[0],Y=$[1],_=K.firstChild,V=Y.firstChild,q=!1,z=!1,Q=!1,j=!1,X=0,J=0,Z=0,ee=0,te=L(x);return ae(1),oe(function(){var e=[L(x),i];B("create",e),ie(0,e)},0),i.target=e,i.picker=a,i.visible=!1,i.on=k,i.off=w,i.trigger=B,i.fit=fe,i.set=function(e){return E(e)?(O(e)&&(e=i.parse(e)),U(e),ne(),i):M()},o._HSV2RGB=I,o._HSV2HEX=L,o._RGB2HSV=h,o._HEX2HSV=N,o._HEX2RGB=function(e){return g(b(e))},o.HSV2RGB=function(e){return I(S(e))},o.HSV2HEX=function(e){return L(S(e))},o.RGB2HSV=function(e){return F(h(e))},o.RGB2HEX=T,o.HEX2HSV=function(e){return F(N(e))},o.HEX2RGB=b,i.hooks=f,i.enter=function(e){return ae(0,e)},i.exit=re,i});