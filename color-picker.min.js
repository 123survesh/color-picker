/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.2.1
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e){e.version="1.2.1",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r,n)},0===n?0:n||1),e}}(window.CP=function(e,t){function p(e){return"undefined"!=typeof e}function d(e){return"string"==typeof e}function h(e,t,n){return t>e?t:e>n?n:e}function g(e,t){return parseInt(e,t||10)}function $(e){return Math.round(e)}function m(e){var i,l,a,s,f,o,u,c,t=+e[0],n=+e[1],r=+e[2];switch(s=Math.floor(6*t),f=6*t-s,o=r*(1-n),u=r*(1-f*n),c=r*(1-(1-f)*n),s=s||0,u=u||0,c=c||0,s%6){case 0:i=r,l=c,a=o;break;case 1:i=u,l=r,a=o;break;case 2:i=o,l=r,a=c;break;case 3:i=o,l=u,a=r;break;case 4:i=c,l=o,a=r;break;case 5:i=r,l=o,a=u}return[$(255*i),$(255*l),$(255*a)]}function b(e){return k(m(e))}function v(e){var s,t=+e[0],n=+e[1],r=+e[2],i=Math.max(t,n,r),l=Math.min(t,n,r),a=i-l,f=0===i?0:a/i,o=i/255;switch(i){case l:s=0;break;case t:s=n-r+a*(r>n?6:0),s/=6*a;break;case n:s=r-t+2*a,s/=6*a;break;case r:s=t-n+4*a,s/=6*a}return[s,f,o]}function k(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function y(e){return v(w(e))}function w(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[g(e[0]+e[1],16),g(e[2]+e[3],16),g(e[4]+e[5],16)]}function x(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function _(e){return[$(360*+e[0]),$(100*+e[1]),$(100*+e[2])]}function E(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.addEventListener(e[r],n,!1)}function T(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.removeEventListener(e[r],n)}function S(e,t){for(var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=I(e).l,l=I(e).t;e=e.offsetParent;)i+=I(e).l,l+=I(e).t;return{x:n-i,y:r-l}}function I(e){return{l:e.offsetLeft,t:e.offsetTop}}function q(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function L(e){e&&e.preventDefault()}function O(e){return{w:e.offsetWidth,h:e.offsetHeight}}function R(e){return l||(p(e)?e:!1)}function z(e){l=e}function C(e,t,n){return p(e)?p(t)?(p(a[e])||(a[e]={}),p(n)||(n=Object.keys(a[e]).length),a[e][n]=t,i):a[e]:a}function H(e,t){return p(e)?p(t)?(delete a[e][t],i):(a[e]={},i):(a={},i)}function U(e,t,n){if(!p(a[e]))return i;if(p(n))p(a[e][n])&&a[e][n].apply(i,t);else for(var r in a[e])a[e][r].apply(i,t);return i}function ne(e,t){e&&"h"!==e||U("change:h",t),e&&"sv"!==e||U("change:sv",t),U("change",t)}function re(e,t){return setTimeout(e,t)}function ie(){return s.parentNode}function le(){var t=O(j).w,r=n.innerHeight,l=Math.max(M.scrollLeft,j.scrollLeft),a=Math.max(M.scrollTop,j.scrollTop),f=t+l,o=r+a;return V=I(e).l,W=I(e).t+O(e).h,V+K>f&&(V=f-K),W+J>o&&(W=o-J),s.style.left=V+"px",s.style.top=W+"px",U("fit",[i]),i}function ae(l,a){function y(t){var n=t.target,r=n===e||q(n,e)===e;r?ae():te(),U(r?"enter":"exit",[i])}function w(e){var n=(m(A),m([A[0],1,1]));N.style.backgroundColor="rgb("+n.join(",")+")",z(A),L(e)}function x(e){var t=h(S(F,e).y,0,p);A[0]=(p-t)/p,Y.style.top=t-$/2+"px",w(e)}function _(e){var t=S(N,e),n=h(t.x,0,d),r=h(t.y,0,g);A[1]=1-(d-n)/d,A[2]=(g-r)/g,Z.style.right=d-n-v/2+"px",Z.style.top=r-k/2+"px",w(e)}function I(e){X&&(x(e),Q=b(A),P||(U("drag:h",[Q,i]),U("drag",[Q,i]),ne("h",[Q,i]))),G&&(_(e),Q=b(A),B||(U("drag:sv",[Q,i]),U("drag",[Q,i]),ne("sv",[Q,i]))),P=!1,B=!1}function C(n){var r=n.target,l=X?"h":"sv",a=[b(A),i],f=r===e||q(r,e)===e,o=r===s||q(r,s)===s;f||o?o&&(U("stop:"+l,a),U("stop",a),ne(l,a)):ie()&&t!==!1&&(te(),U("exit",[i]),ne(0,a)),X=!1,G=!1}function H(e){P=!0,X=!0,I(e),L(e),U("start:h",[Q,i]),U("start",[Q,i]),ne("h",[Q,i])}function j(e){B=!0,G=!0,I(e),L(e),U("start:sv",[Q,i]),U("start",[Q,i]),ne("sv",[Q,i])}l||((a||M).appendChild(s),i.visible=!0),K=O(s).w,J=O(s).h;var p=O(F).h,d=O(N).w,g=O(N).h,$=O(Y).h,v=O(Z).w,k=O(Z).h;l?(s.style.left=s.style.top="-9999px",t!==!1&&E(t,e,y),i.create=function(){return ae(1),U("create",[i]),i},i.destroy=function(){return t!==!1&&T(t,e,y),te(),z(!1),U("destroy",[i]),i}):le(),ee=function(){A=R(A),w(),Y.style.top=p-$/2-p*+A[0]+"px",Z.style.right=d-v/2-d*+A[1]+"px",Z.style.top=g-k/2-g*+A[2]+"px"},te=function(e){return ie()&&(ie().removeChild(s),i.visible=!1),T(f,F,H),T(f,N,j),T(o,r,I),T(u,r,C),T(c,n,le),i},ee(),l||(E(f,F,H),E(f,N,j),E(o,r,I),E(u,r,C),E(c,n,le))}var n=window,r=document,i=this,l=!1,a={},s=r.createElement("div"),f="touchstart mousedown",o="touchmove mousemove",u="touchend mouseup",c="orientationchange resize";CP.__instance__[e.id||e.name||Object.keys(CP.__instance__).length]=i,p(t)||(t=f),CP.prototype.parse=function(e){if("object"==typeof e)return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),r="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/);return r?y(e.slice(1)):n?x([+n[1],+n[2],+n[3]]):t?v([+t[1],+t[2],+t[3]]):[0,1,1]},z(i.parse(e.getAttribute("data-color")||e.value||[0,1,1])),s.className="color-picker",s.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var ee,te,M=r.body,j=r.documentElement,D=s.firstChild.children,A=R([0,1,1]),F=D[0],N=D[1],Y=F.firstChild,Z=N.firstChild,P=!1,B=!1,X=!1,G=!1,V=0,W=0,K=0,J=0,Q=b(A);return ae(1),re(function(){var e=[b(A),i];U("create",e),ne(0,e)},0),i.target=e,i.picker=s,i.visible=!1,i.on=C,i.off=H,i.trigger=U,i.fit=le,i.set=function(e){return p(e)?(d(e)&&(e=i.parse(e)),z(e),ee(),i):R()},i.HSV2RGB=function(e){return m(x(e))},i._HSV2RGB=m,i.HSV2HEX=function(e){return b(x(e))},i._HSV2HEX=b,i.RGB2HSV=function(e){return _(v(e))},i._RGB2HSV=v,i.RGB2HEX=k,i.HEX2HSV=function(e){return _(y(e))},i._HEX2HSV=y,i.HEX2RGB=w,i.hooks=a,i.enter=function(e){return ae(0,e)},i.exit=te,i});