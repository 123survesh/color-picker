/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.3.5
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(t,e,n){var r,i="__instance__",o="firstChild",s="scrollLeft",u="scrollTop",c="offsetLeft",a="offsetTop",f=setTimeout;function l(t){return void 0!==t}function h(t){return"object"==typeof t}function p(t){return Object.keys(t).length}function v(t,e,n){return t<e?e:t>n?n:t}function d(t,e){return parseInt(t,e||10)}function g(t){return Math.round(t)}function y(t){var e,n,r,i,o,s,u,c,a=+t[0],f=+t[1],l=+t[2];switch(s=l*(1-f),u=l*(1-(o=6*a-(i=Math.floor(6*a)))*f),c=l*(1-(1-o)*f),i=i||0,u=u||0,c=c||0,i%6){case 0:e=l,n=c,r=s;break;case 1:e=u,n=l,r=s;break;case 2:e=s,n=l,r=c;break;case 3:e=s,n=u,r=l;break;case 4:e=c,n=s,r=l;break;case 5:e=l,n=s,r=u}return[g(255*e),g(255*n),g(255*r)]}function x(t){return b(y(t))}function H(t){var e,n=+t[0],r=+t[1],i=+t[2],o=Math.max(n,r,i),s=Math.min(n,r,i),u=o-s,c=0===o?0:u/o,a=o/255;switch(o){case s:e=0;break;case n:e=r-i+u*(r<i?6:0),e/=6*u;break;case r:e=i-n+2*u,e/=6*u;break;case i:e=n-r+4*u,e/=6*u}return[e,c,a]}function b(t){var e=+t[2]|+t[1]<<8|+t[0]<<16;return(e="000000"+e.toString(16)).slice(-6)}function m(t){return H(k(t))}function k(t){return 3===t.length&&(t=t.replace(/./g,"$&$&")),[d(t[0]+t[1],16),d(t[2]+t[3],16),d(t[4]+t[5],16)]}function w(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function E(t){return[g(360*+t[0]),g(100*+t[1]),g(100*+t[2])]}function X(t){if(h(t))return t;var e=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(t),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(t);return"#"===t[0]&&t.match(/^#([\da-f]{3}|[\da-f]{6})$/i)?m(t.slice(1)):n?w([+n[1],+n[2],+n[3]]):e?H([+e[1],+e[2],+e[3]]):[0,1,1]}(r=t.CP=function(n,r){var d=e.body,g=e.documentElement,H=this,b=t.CP,m=!1,k={},w=e.createElement("div"),E="touchstart mousedown",X="touchmove mousemove",S="touchend mouseup",_="orientationchange resize";if(!(H instanceof b))return new b(n,r);function B(t,e,n){for(var r=0,i=(t=t.split(/\s+/)).length;r<i;++r)e.addEventListener(t[r],n,!1)}function R(t,e,n){for(var r=0,i=(t=t.split(/\s+/)).length;r<i;++r)e.removeEventListener(t[r],n)}function V(t,e){var n=e.touches?e.touches[0].pageX:e.pageX,r=e.touches?e.touches[0].pageY:e.pageY,i=C(t);return{x:n-i.l,y:r-i.t}}function C(e,n){if(e===t)var r=t.pageXOffset||g[s],i=t.pageYOffset||g[u];else if(n){var o=e.getBoundingClientRect();r=o.x,i=o.y}else for(r=e[c],i=e[a];e=e.offsetParent;)r+=e[c],i+=e[a];return{l:r,t:i}}function G(t,e){for(;(t=t.parentElement)&&t!==e;);return t}function L(t){t&&t.preventDefault()}function M(e){return e===t?{w:t.innerWidth,h:t.innerHeight}:{w:e.offsetWidth,h:e.offsetHeight}}function $(t){return m||!!l(t)&&t}function T(t){m=t}function j(t,e,n){if(!l(k[t]))return H;if(l(n))l(k[t][n])&&k[t][n].apply(H,e);else for(var r in k[t])k[t][r].apply(H,e);return H}b[i][n.id||n.name||p(b[i])]=H,l(r)||(r=E),T(b.parse(n.getAttribute("data-color")||n.value||[0,1,1])),w.className="color-picker",w.innerHTML='<div class="color-picker-control"><span class="color-picker-sv"><i></i></span><span class="color-picker-h"><i></i></span></div>';var O,P=w[o].children,Y=$([0,1,1]),N=P[1],W=P[0],z=N[o],A=W[o],D=0,I=0,q=0,F=0,J=0,K=0,Q=0,U=0,Z=x(Y);function tt(t,e){t&&"h"!==t||j("change:h",e),t&&"sv"!==t||j("change:sv",e),j("change",e)}function et(){return w.parentNode}function nt(i,o){i||((o||d).appendChild(w),H.visible=!0),Q=M(w).w,U=M(w).h;var s=M(W),u=M(A),c=M(N).h,a=s.w,f=s.h,l=M(z).h,h=u.w,p=u.h;if(i){function g(t){var e=t.target,r=e===n||G(e,n)===n;r?nt():H.exit(),j(r?"enter":"exit",[H])}w.style.left=w.style.top="-9999px",!1!==r&&B(r,n,g),H.create=function(){return nt(1),j("create",[H]),H},H.destroy=function(){return!1!==r&&R(r,n,g),H.exit(),T(!1),j("destroy",[H]),H}}else rt();function b(t){y(Y);var e=y([Y[0],1,1]);W.style.backgroundColor="rgb("+e.join(",")+")",T(Y),L(t)}function m(t){var e,n,r,i,o,s;q&&(n=v(V(N,e=t).y,0,c),Y[0]=(c-n)/c,z.style.top=n-l/2+"px",b(e),Z=x(Y),D||(j("drag:h",[Z,H]),j("drag",[Z,H]),tt("h",[Z,H]))),F&&(i=V(W,r=t),o=v(i.x,0,a),s=v(i.y,0,f),Y[1]=1-(a-o)/a,Y[2]=(f-s)/f,A.style.right=a-o-h/2+"px",A.style.top=s-p/2+"px",b(r),Z=x(Y),I||(j("drag:sv",[Z,H]),j("drag",[Z,H]),tt("sv",[Z,H]))),D=0,I=0}function k(t){var e=t.target,i=q?"h":"sv",o=[x(Y),H],s=e===n||G(e,n)===n,u=e===w||G(e,w)===w;s||u?u&&(j("stop:"+i,o),j("stop",o),tt(i,o)):et()&&!1!==r&&(H.exit(),j("exit",[H]),tt(0,o)),q=0,F=0}function C(t){D=1,q=1,m(t),L(t),j("start:h",[Z,H]),j("start",[Z,H]),tt("h",[Z,H])}function P(t){I=1,F=1,m(t),L(t),j("start:sv",[Z,H]),j("start",[Z,H]),tt("sv",[Z,H])}O=function(){Y=$(Y),b(),z.style.top=c-l/2-c*+Y[0]+"px",A.style.right=a-h/2-a*+Y[1]+"px",A.style.top=f-p/2-f*+Y[2]+"px"},H.exit=function(n){return et()&&(et().removeChild(w),H.visible=!1),R(E,N,C),R(E,W,P),R(X,e,m),R(S,e,k),R(_,t,rt),H},O(),i||(B(E,N,C),B(E,W,P),B(X,e,m),B(S,e,k),B(_,t,rt))}function rt(){return H.fit()}return nt(1),f(function(){var t=[x(Y),H];j("create",t),tt(0,t)},0),H.fit=function(e){var r=M(t),i=M(g),o=r.w-i.w,s=r.h-g.clientHeight,u=C(t),c=C(n,!0);if(J=c.l+u.l,K=c.t+u.t+M(n).h,h(e))l(e[0])&&(J=e[0]),l(e[1])&&(K=e[1]);else{var a=u.l,f=u.t,p=u.l+r.w-Q-o,d=u.t+r.h-U-s;J=v(J,a,p)>>0,K=v(K,f,d)>>0}return w.style.left=J+"px",w.style.top=K+"px",j("fit",[H]),H},H.set=function(t){return l(t)?("string"==typeof t&&(t=b.parse(t)),T(t),O(),H):$()},H.get=function(t){return $(t)},H.target=n,H.picker=w,H.visible=!1,H.on=function(t,e,n){return l(t)?l(e)?(l(k[t])||(k[t]={}),l(n)||(n=p(k[t])),k[t][n]=e,H):k[t]:k},H.off=function(t,e){return l(t)?l(e)?(delete k[t][e],H):(k[t]={},H):(k={},H)},H.trigger=j,H.hooks=k,H.enter=function(t){return nt(0,t)},H}).version="1.3.5",r[i]={},r.each=function(t,e){return f(function(){var e,n=r[i];for(e in n)t(n[e],e,n)},0===e?0:e||1),r},r.parse=X,r._HSV2RGB=y,r._HSV2HEX=x,r._RGB2HSV=H,r._HEX2HSV=m,r._HEX2RGB=function(t){return[+(e=k(t))[0]/255,+e[1]/255,+e[2]/255];var e},r.HSV2RGB=function(t){return y(w(t))},r.HSV2HEX=function(t){return x(w(t))},r.RGB2HSV=function(t){return E(H(t))},r.RGB2HEX=b,r.HEX2HSV=function(t){return E(m(t))},r.HEX2RGB=k}(window,document);
