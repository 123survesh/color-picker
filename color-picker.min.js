/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.2.2
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e){e.version="1.2.2",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r,n)},0===n?0:n||1),e}}(window.CP=function(e,t){function p(e){return"undefined"!=typeof e}function d(e){return"string"==typeof e}function g(e,t,n){return t>e?t:e>n?n:e}function v(e,t){return parseInt(e,t||10)}function b(e){return Math.round(e)}function m(e){var i,a,o,s,u,f,c,l,t=+e[0],n=+e[1],r=+e[2];switch(s=Math.floor(6*t),u=6*t-s,f=r*(1-n),c=r*(1-u*n),l=r*(1-(1-u)*n),s=s||0,c=c||0,l=l||0,s%6){case 0:i=r,a=l,o=f;break;case 1:i=c,a=r,o=f;break;case 2:i=f,a=r,o=l;break;case 3:i=f,a=c,o=r;break;case 4:i=l,a=f,o=r;break;case 5:i=r,a=f,o=c}return[b(255*i),b(255*a),b(255*o)]}function y(e){return x(m(e))}function k(e){var s,t=+e[0],n=+e[1],r=+e[2],i=Math.max(t,n,r),a=Math.min(t,n,r),o=i-a,u=0===i?0:o/i,f=i/255;switch(i){case a:s=0;break;case t:s=n-r+o*(r>n?6:0),s/=6*o;break;case n:s=r-t+2*o,s/=6*o;break;case r:s=t-n+4*o,s/=6*o}return[s,u,f]}function x(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function w(e){return k($(e))}function $(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[v(e[0]+e[1],16),v(e[2]+e[3],16),v(e[4]+e[5],16)]}function E(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function _(e){return[b(360*+e[0]),b(100*+e[1]),b(100*+e[2])]}function C(e){return[+e[0]/255,+e[1]/255,+e[2]/255]}function H(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.addEventListener(e[r],n,!1)}function S(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.removeEventListener(e[r],n)}function O(e,t){for(var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=T(e).l,a=T(e).t;e=e.offsetParent;)i+=T(e).l,a+=T(e).t;return{x:n-i,y:r-a}}function T(e){return{l:e.offsetLeft,t:e.offsetTop}}function A(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function U(e){e&&e.preventDefault()}function L(e){return{w:e.offsetWidth,h:e.offsetHeight}}function R(e){return o||(p(e)?e:!1)}function I(e){o=e}function G(e,t,n){return p(e)?p(t)?(p(s[e])||(s[e]={}),p(n)||(n=Object.keys(s[e]).length),s[e][n]=t,i):s[e]:s}function j(e,t){return p(e)?p(t)?(delete s[e][t],i):(s[e]={},i):(s={},i)}function z(e,t,n){if(!p(s[e]))return i;if(p(n))p(s[e][n])&&s[e][n].apply(i,t);else for(var r in s[e])s[e][r].apply(i,t);return i}function ie(e,t){e&&"h"!==e||z("change:h",t),e&&"sv"!==e||z("change:sv",t),z("change",t)}function ae(e,t){return setTimeout(e,t)}function oe(){return u.parentNode}function se(){var t=L(X).w,r=n.innerHeight,a=Math.max(M.scrollLeft,X.scrollLeft),o=Math.max(M.scrollTop,X.scrollTop),s=t+a,f=r+o;return W=T(e).l,F=T(e).t+L(e).h,W+Q>s&&(W=s-Q),F+ee>f&&(F=f-ee),u.style.left=W+"px",u.style.top=F+"px",z("fit",[i]),i}function ue(a,o){function x(t){var n=t.target,r=n===e||A(n,e)===e;r?ue():re(),z(r?"enter":"exit",[i])}function w(e){var n=(m(Y),m([Y[0],1,1]));P.style.backgroundColor="rgb("+n.join(",")+")",I(Y),U(e)}function $(e){var t=g(O(V,e).y,0,s);Y[0]=(s-t)/s,N.style.top=t-v/2+"px",w(e)}function E(e){var t=O(P,e),n=g(t.x,0,p),r=g(t.y,0,d);Y[1]=1-(p-n)/p,Y[2]=(d-r)/d,q.style.right=p-n-b/2+"px",q.style.top=r-k/2+"px",w(e)}function _(e){Z&&($(e),te=y(Y),D||(z("drag:h",[te,i]),z("drag",[te,i]),ie("h",[te,i]))),J&&(E(e),te=y(Y),K||(z("drag:sv",[te,i]),z("drag",[te,i]),ie("sv",[te,i]))),D=!1,K=!1}function C(n){var r=n.target,a=Z?"h":"sv",o=[y(Y),i],s=r===e||A(r,e)===e,f=r===u||A(r,u)===u;s||f?f&&(z("stop:"+a,o),z("stop",o),ie(a,o)):oe()&&t!==!1&&(re(),z("exit",[i]),ie(0,o)),Z=!1,J=!1}function T(e){D=!0,Z=!0,_(e),U(e),z("start:h",[te,i]),z("start",[te,i]),ie("h",[te,i])}function G(e){K=!0,J=!0,_(e),U(e),z("start:sv",[te,i]),z("start",[te,i]),ie("sv",[te,i])}a||((o||M).appendChild(u),i.visible=!0),Q=L(u).w,ee=L(u).h;var s=L(V).h,p=L(P).w,d=L(P).h,v=L(N).h,b=L(q).w,k=L(q).h;a?(u.style.left=u.style.top="-9999px",t!==!1&&H(t,e,x),i.create=function(){return ue(1),z("create",[i]),i},i.destroy=function(){return t!==!1&&S(t,e,x),re(),I(!1),z("destroy",[i]),i}):se(),ne=function(){Y=R(Y),w(),N.style.top=s-v/2-s*+Y[0]+"px",q.style.right=p-b/2-p*+Y[1]+"px",q.style.top=d-k/2-d*+Y[2]+"px"},re=function(e){return oe()&&(oe().removeChild(u),i.visible=!1),S(f,V,T),S(f,P,G),S(c,r,_),S(l,r,C),S(h,n,se),i},ne(),a||(H(f,V,T),H(f,P,G),H(c,r,_),H(l,r,C),H(h,n,se))}var n=window,r=document,i=this,a=CP.prototype,o=!1,s={},u=r.createElement("div"),f="touchstart mousedown",c="touchmove mousemove",l="touchend mouseup",h="orientationchange resize";if(!(i instanceof CP))return new CP(e,t);e.CP=i,CP.__instance__[e.id||e.name||Object.keys(CP.__instance__).length]=i,p(t)||(t=f),a.parse=function(e){if("object"==typeof e)return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),r="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/);return r?w(e.slice(1)):n?E([+n[1],+n[2],+n[3]]):t?k([+t[1],+t[2],+t[3]]):[0,1,1]},I(i.parse(e.getAttribute("data-color")||e.value||[0,1,1])),u.className="color-picker",u.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var ne,re,M=r.body,X=r.documentElement,B=u.firstChild.children,Y=R([0,1,1]),V=B[0],P=B[1],N=V.firstChild,q=P.firstChild,D=!1,K=!1,Z=!1,J=!1,W=0,F=0,Q=0,ee=0,te=y(Y);return ue(1),ae(function(){var e=[y(Y),i];z("create",e),ie(0,e)},0),i.target=e,i.picker=u,i.visible=!1,i.on=G,i.off=j,i.trigger=z,i.fit=se,i.set=function(e){return p(e)?(d(e)&&(e=i.parse(e)),I(e),ne(),i):R()},a._HSV2RGB=m,a._HSV2HEX=y,a._RGB2HSV=k,a._HEX2HSV=w,a._HEX2RGB=function(e){return C($(e))},a.HSV2RGB=function(e){return m(E(e))},a.HSV2HEX=function(e){return y(E(e))},a.RGB2HSV=function(e){return _(k(e))},a.RGB2HEX=x,a.HEX2HSV=function(e){return _(w(e))},a.HEX2RGB=$,i.hooks=s,i.enter=function(e){return ue(0,e)},i.exit=re,i});