/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.1.0
 * ==========================================================
 * Author: Taufik Nurrohman <http://latitudu.com>
 * License: MIT
 * ----------------------------------------------------------
 */
var CP=function(t,e){function n(t){return void 0!==t}function r(t,e,n){return e>t?e:t>n?n:t}function o(t){var e,n,r,o,s,u,i,a,c=+t[0],f=+t[1],h=+t[2];switch(o=Math.floor(6*c),s=6*c-o,u=h*(1-f),i=h*(1-s*f),a=h*(1-(1-s)*f),isNaN(o)&&(o=0),isNaN(i)&&(i=0),isNaN(a)&&(a=0),o%6){case 0:e=h,n=a,r=u;break;case 1:e=i,n=h,r=u;break;case 2:e=u,n=h,r=a;break;case 3:e=u,n=i,r=h;break;case 4:e=a,n=u,r=h;break;case 5:e=h,n=u,r=i}return[Math.round(255*e),Math.round(255*n),Math.round(255*r)]}function s(t){return i(o(t))}function u(t){var e,n=+t[0],r=+t[1],o=+t[2],s=Math.max(n,r,o),u=Math.min(n,r,o),i=s-u,a=0===s?0:i/s,c=s/255;switch(s){case u:e=0;break;case n:e=r-o+i*(o>r?6:0),e/=6*i;break;case r:e=o-n+2*i,e/=6*i;break;case o:e=n-r+4*i,e/=6*i}return[e,a,c]}function i(t){var e=+t[2]|+t[1]<<8|+t[0]<<16;return e="000000"+e.toString(16),e.slice(-6)}function a(t){return u(c(t))}function c(t){return 3===t.length&&(t=t.replace(/./g,"$&$&")),[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)]}function f(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function h(t){return[Math.round(360*+t[0]),Math.round(100*+t[1]),Math.round(100*+t[2])]}function l(t,e,n){return e.addEventListener(t,n,!1)}function p(t,e,n){return e.removeEventListener(t,n)}function d(t,e){for(var n=e.touches?e.touches[0].pageX:e.pageX,r=e.touches?e.touches[0].pageY:e.pageY,o=v(t).l,s=v(t).t;t=t.offsetParent;)o+=v(t).l,s+=v(t).t;return{x:n-o,y:r-s}}function v(t){return{l:t.offsetLeft,t:t.offsetTop}}function g(t,e){for(;(t=t.parentElement)&&t!==e;);return t}function m(t){t&&t.preventDefault()}function y(t){return{w:t.offsetWidth,h:t.offsetHeight}}function x(t){return G||(n(t)?t:!1)}function b(t){G=t}function H(t,e,r){return n(t)?n(e)?(n(L[t])||(L[t]={}),n(r)||(r=Object.keys(L[t]).length),L[t][r]=e,B):L[t]:L}function k(t,e){return n(t)?n(e)?(delete L[t][e],B):(L[t]={},B):(L={},B)}function w(t,e,r){if(!n(L[t]))return B;if(n(r))n(L[t][r])&&L[t][r].apply(B,e);else for(var o in L[t])L[t][o].apply(B,e);return B}function M(t,e){t&&"h"!==t||w("change:h",e),t&&"sv"!==t||w("change:sv",e),w("change",e)}function E(t,e){return X.setTimeout(t,e)}function S(){return R.parentNode}function N(){var e=y(j).w,n=X.innerHeight,r=Math.max(_.scrollLeft,j.scrollLeft),o=Math.max(_.scrollTop,j.scrollTop),s=e+r,u=n+o;return J=v(t).l,K=v(t).t+y(t).h,J+Q>s&&(J=s-Q),K+U>u&&(K=u-U),R.style.left=J+"px",R.style.top=K+"px",w("fit",[B]),B}function V(n,u){function i(e){var n=e.target,r=n===t||g(n,t)===t;r?V():$(),w(r?"enter":"exit",[B])}function a(t){var e=(o(z),o([z[0],1,1]));Y.style.backgroundColor="rgb("+e.join(",")+")",b(z),m(t)}function c(t){var e=r(d(P,t).y,0,E);z[0]=(E-e)/E,A.style.top=e-j/2+"px",a(t)}function f(t){var e=d(Y,t),n=r(e.x,0,G),o=r(e.y,0,L);z[1]=1-(G-n)/G,z[2]=(L-o)/L,D.style.right=G-n-I/2+"px",D.style.top=o-J/2+"px",a(t)}function h(t){q&&(c(t),Z=s(z),O||(w("drag:h",[Z,B]),w("drag",[Z,B]),M("h",[Z,B]))),F&&(f(t),Z=s(z),W||(w("drag:sv",[Z,B]),w("drag",[Z,B]),M("sv",[Z,B]))),O=!1,W=!1}function v(n){var r=n.target,o=q?"h":"sv",u=[s(z),B],i=r===t||g(r,t)===t,a=r===R||g(r,R)===R;i||a?a&&(w("stop:"+o,u),w("stop",u),M(o,u)):S()&&e!==!1&&($(),w("exit",[B]),M(0,u)),q=!1,F=!1}function H(t){O=!0,q=!0,h(t),m(t),w("start:h",[Z,B]),w("start",[Z,B]),M("h",[Z,B])}function k(t){W=!0,F=!0,h(t),m(t),w("start:sv",[Z,B]),w("start",[Z,B]),M("sv",[Z,B])}n||((u||_).appendChild(R),B.visible=!0),Q=y(R).w,U=y(R).h;var E=y(P).h,G=y(Y).w,L=y(Y).h,j=y(A).h,I=y(D).w,J=y(D).h;if(n){if(R.style.left="-9999px",R.style.top="-9999px",e!==!1)for(var K=e.length;K--;)l(e[K],t,i);B.create=function(){return V(1),w("create",[B]),B},B.destroy=function(){if(e!==!1)for(var n=e.length;n--;)p(e[n],t,i);return $(),b(!1),w("destroy",[B]),B}}else N();T=function(){z=x(z),a(),A.style.top=E-j/2-E*+z[0]+"px",D.style.right=G-I/2-G*+z[1]+"px",D.style.top=L-J/2-L*+z[2]+"px"},$=function(){return S()&&(S().removeChild(R),B.visible=!1),p("touchstart",P,H),p("mousedown",P,H),p("touchstart",Y,k),p("mousedown",Y,k),p("touchmove",C,h),p("mousemove",C,h),p("touchend",C,v),p("mouseup",C,v),p("resize",X,N),B},T(),n||(l("touchstart",P,H),l("mousedown",P,H),l("touchstart",Y,k),l("mousedown",Y,k),l("touchmove",C,h),l("mousemove",C,h),l("touchend",C,v),l("mouseup",C,v),l("resize",X,N))}var X=window,C=document,B=this,G=!1,L={},R=C.createElement("div");n(e)||(e=["mousedown","touchstart"]),B.parse=function(t){if("object"==typeof t)return t;var e=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(t),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(t),r="#"===t[0]&&t.match(/^#([\da-f]{3}|[\da-f]{6})$/);return r?a(t.slice(1)):n?f([+n[1],+n[2],+n[3]]):e?u([+e[1],+e[2],+e[3]]):[0,1,1]},b(B.parse(t.getAttribute("data-color")||t.value||[0,1,1])),R.className="color-picker",R.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var T,$,_=C.body,j=C.documentElement,I=R.firstChild.children,z=x([0,1,1]),P=I[0],Y=I[1],A=P.firstChild,D=Y.firstChild,O=!1,W=!1,q=!1,F=!1,J=0,K=0,Q=0,U=0,Z=s(z);return V(1),E(function(){var t=[s(z),B];w("create",t),M(0,t)},0),B.target=t,B.picker=R,B.visible=!1,B.on=H,B.off=k,B.trigger=w,B.fit=N,B.set=function(t){return n(t)?("string"==typeof t&&(t=B.parse(t)),b(t),T(),B):x()},B.HSV2RGB=function(t){return o(f(t))},B._HSV2RGB=o,B.HSV2HEX=function(t){return s(f(t))},B._HSV2HEX=s,B.RGB2HSV=function(t){return h(u(t))},B._RGB2HSV=u,B.RGB2HEX=i,B.HEX2HSV=function(t){return h(a(t))},B._HEX2HSV=a,B.HEX2RGB=c,B.hooks=L,B.enter=function(t){return V(0,t)},B.exit=$,B};